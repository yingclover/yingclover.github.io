<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-剑指offer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/05/剑指offer/" class="article-date">
  <time datetime="2019-04-05T01:18:36.000Z" itemprop="datePublished">2019-04-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/05/剑指offer/">剑指offer</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>目录</strong></p>
<p>[TOC]</p>
<h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><h4 id="3-数字中重复的数字"><a href="#3-数字中重复的数字" class="headerlink" title="3.数字中重复的数字"></a>3.数字中重复的数字</h4><p>在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。也不知道每个数字重复几次。请找出数组中任意一个重复的数字。 例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是第一个重复的数字2。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解题思路：从头到尾依次扫描数组中的数字，当扫描到下标为i的数字时，首先比较这个数字（假设为tmp）是不是等于i，如果是就接着扫描下一个数字，如果不是，则拿它同第tmp个数字进行比较，如果它和第tmp个数字相等，就找到了第一个重复的数字。</span></span><br><span class="line"><span class="comment">//注意：判断输入是否为空，且数字大小是否大于等于0，小于n</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// Parameters:</span></span><br><span class="line">    <span class="comment">//        numbers:     an array of integers</span></span><br><span class="line">    <span class="comment">//        length:      the length of array numbers</span></span><br><span class="line">    <span class="comment">//        duplication: (Output) the duplicated number in the array number</span></span><br><span class="line">    <span class="comment">// Return value:       true if the input is valid, and there are some duplications in the array number</span></span><br><span class="line">    <span class="comment">//                     otherwise false</span></span><br><span class="line">     <span class="function"><span class="keyword">bool</span> <span class="title">duplicate</span><span class="params">(<span class="keyword">int</span> numbers[], <span class="keyword">int</span> length, <span class="keyword">int</span>* duplication)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,tmp;</span><br><span class="line">        <span class="keyword">if</span>(!numbers[<span class="number">0</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(numbers[i]!=i&amp;&amp;numbers[i]&lt;length&amp;&amp;numbers[i]&gt;=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                tmp=numbers[i];</span><br><span class="line">                <span class="keyword">if</span>(numbers[tmp]==numbers[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    *duplication=numbers[i];</span><br><span class="line">                     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125; </span><br><span class="line">                numbers[i]=numbers[tmp];</span><br><span class="line">                numbers[tmp]=tmp;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-二维数组中的查找"><a href="#4-二维数组中的查找" class="headerlink" title="4.二维数组中的查找"></a>4.二维数组中的查找</h4><p>在一个二维数组中（每个一维数组的长度相同），每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; <span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i,j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row=<span class="built_in">array</span>.size();<span class="comment">//注意：这里二维数组没说是n×n</span></span><br><span class="line">        <span class="keyword">int</span> col=<span class="built_in">array</span>[<span class="number">0</span>].size();<span class="comment">//计算列数</span></span><br><span class="line">        i=row<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">bool</span> result=<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span>&amp;&amp;j&lt;col)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">array</span>[i][j]&lt;target)</span><br><span class="line">                j++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">array</span>[i][j]==target)</span><br><span class="line">            &#123;</span><br><span class="line">                 result= <span class="literal">true</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="5-替换空格"><a href="#5-替换空格" class="headerlink" title="5.替换空格"></a>5.替换空格</h4><p>请实现一个函数，将一个字符串中的每个空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</span><br><span class="line">        StringBuffer out=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.toString().length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> b=str.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(String.valueOf(b).equals(<span class="string">" "</span>))&#123;</span><br><span class="line">                out.append(<span class="string">"%20"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                out.append(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> out.toString();     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-从尾到头打印链表"><a href="#6-从尾到头打印链表" class="headerlink" title="6.从尾到头打印链表"></a>6.从尾到头打印链表</h4><p>输入一个链表，按链表值从尾到头的顺序返回一个ArrayList。</p>
<p>c++实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方案一：遍历链表，将值存到容器vector中，然后将容器里面值逆转</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; printListFromTailToHead(ListNode* head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; value;<span class="comment">//容器定义</span></span><br><span class="line">        ListNode *p=<span class="literal">NULL</span>;</span><br><span class="line">        P=head;</span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            value.push_back(p-&gt;val);<span class="comment">//尾部增加一个值</span></span><br><span class="line">            p=p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>,j=value.size()<span class="number">-1</span>;<span class="comment">//size(方法)</span></span><br><span class="line">        <span class="keyword">while</span>(i&lt;j)</span><br><span class="line">        &#123;</span><br><span class="line">            temp=value[i];</span><br><span class="line">            value[i]=value[j];</span><br><span class="line">            value[j]=temp;</span><br><span class="line">            i++;</span><br><span class="line">            j--;        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//方案二：利用栈先入后出</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; printListFromTailToHead(ListNode* head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; value;</span><br><span class="line">        ListNode *p=<span class="literal">NULL</span>;</span><br><span class="line">        P=head;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;<span class="comment">//栈定义</span></span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            stk.push(p-&gt;val);</span><br><span class="line">            p=p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!stk.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            value.push_back(stk.top())l</span><br><span class="line">            stk.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//方案三：利用递归</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; printListFromTailToHead(ListNode* head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; value;</span><br><span class="line">        ListNode *p=<span class="literal">NULL</span>;</span><br><span class="line">        P=head;</span><br><span class="line">        <span class="keyword">if</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;next!=<span class="literal">NULL</span>)</span><br><span class="line">                printListFromTailToHead(p-&gt;next);<span class="comment">//递归思路</span></span><br><span class="line">            value.push_back(p-&gt;val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="7-重建二叉树"><a href="#7-重建二叉树" class="headerlink" title="7.重建二叉树"></a>7.重建二叉树</h4><p>输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。假设输入的前序遍历和中序遍历的结果中都不含重复的数字。例如输入前序遍历序列{1,2,4,7,3,5,6,8}和中序遍历序列{4,7,2,1,5,3,8,6}，则重建二叉树并返回。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     * Definition for binary tree</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     *     int val;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     * &#125;;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line"> </span><br><span class="line">        <span class="function">struct TreeNode* <span class="title">reConstructBinaryTree</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pre,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; in)</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">int</span> inlen=in.size();</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span>(inlen==<span class="number">0</span>)</span><br><span class="line"> </span><br><span class="line">                <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; left_pre,right_pre,left_in,right_in;</span><br><span class="line"> </span><br><span class="line">            <span class="comment">//创建根节点，根节点肯定是前序遍历的第一个数</span></span><br><span class="line"> </span><br><span class="line">            TreeNode* head=<span class="keyword">new</span> TreeNode(pre[<span class="number">0</span>]);</span><br><span class="line"> </span><br><span class="line">            <span class="comment">//找到中序遍历根节点所在位置,存放于变量gen中</span></span><br><span class="line"> </span><br><span class="line">            <span class="keyword">int</span> gen=<span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;inlen;i++)</span><br><span class="line"> </span><br><span class="line">            &#123;</span><br><span class="line"> </span><br><span class="line">                <span class="keyword">if</span> (in[i]==pre[<span class="number">0</span>])</span><br><span class="line"> </span><br><span class="line">                &#123;</span><br><span class="line"> </span><br><span class="line">                    gen=i;</span><br><span class="line"> </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                &#125;</span><br><span class="line"> </span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="comment">//对于中序遍历，根节点左边的节点位于二叉树的左边，根节点右边的节点位于二叉树的右边</span></span><br><span class="line"> </span><br><span class="line">            <span class="comment">//利用上述这点，对二叉树节点进行归并</span></span><br><span class="line"> </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;gen;i++)</span><br><span class="line"> </span><br><span class="line">            &#123;</span><br><span class="line"> </span><br><span class="line">                left_in.push_back(in[i]);</span><br><span class="line"> </span><br><span class="line">                left_pre.push_back(pre[i+<span class="number">1</span>]);<span class="comment">//前序第一个为根节点</span></span><br><span class="line"> </span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=gen+<span class="number">1</span>;i&lt;inlen;i++)</span><br><span class="line"> </span><br><span class="line">            &#123;</span><br><span class="line"> </span><br><span class="line">                right_in.push_back(in[i]);</span><br><span class="line"> </span><br><span class="line">                right_pre.push_back(pre[i]);</span><br><span class="line"> </span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="comment">//和shell排序的思想类似，取出前序和中序遍历根节点左边和右边的子树</span></span><br><span class="line"> </span><br><span class="line">            <span class="comment">//递归，再对其进行上述所有步骤，即再区分子树的左、右子子数，直到叶节点</span></span><br><span class="line"> </span><br><span class="line">           head-&gt;left=reConstructBinaryTree(left_pre,left_in);</span><br><span class="line"> </span><br><span class="line">           head-&gt;right=reConstructBinaryTree(right_pre,right_in);</span><br><span class="line"> </span><br><span class="line">           <span class="keyword">return</span> head;</span><br><span class="line"> </span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="8-二叉树的下一个节点"><a href="#8-二叉树的下一个节点" class="headerlink" title="8.二叉树的下一个节点"></a>8.二叉树的下一个节点</h4><h4 id="9-用两个栈实现队列"><a href="#9-用两个栈实现队列" class="headerlink" title="9.用两个栈实现队列"></a>9.用两个栈实现队列</h4><p>用两个栈来实现一个队列，完成队列的Push和Pop操作。 队列中的元素为int类型</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//思想：当栈2不为空时，在栈2栈顶的元素是最先进入队列的元素，可以弹出，当栈2为空时，我们可以逐个将栈1中的元素弹出并压入栈2。由于先进入队列的元素被压到栈1的底部，经过弹出操作之后就处于栈2的顶端，所以可以直接弹出。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> node)</span> </span>&#123;</span><br><span class="line">        stack1.push(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> head;</span><br><span class="line">        <span class="keyword">if</span>(stack2.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(!stack1.empty())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> data=stack1.top();</span><br><span class="line">                stack1.pop();</span><br><span class="line">                stack2.push(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        head=stack2.top();</span><br><span class="line">        stack2.pop();</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stack1;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stack2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="11-旋转数组的最小数字"><a href="#11-旋转数组的最小数字" class="headerlink" title="11.旋转数组的最小数字"></a>11.旋转数组的最小数字</h4><p>把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。 输入一个非减排序的数组的一个旋转，输出旋转数组的最小元素。 例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。 NOTE：给出的所有元素都大于0，若数组大小为0，请返回0。</p>
<h4 id="18-删除链表中重复节点"><a href="#18-删除链表中重复节点" class="headerlink" title="18.删除链表中重复节点"></a>18.删除链表中重复节点</h4><p>在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，重复的结点不保留，返回链表头指针。 例如，链表1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 处理后为 1-&gt;2-&gt;5</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">deleteDuplication</span><span class="params">(ListNode* pHead)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pHead==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> pHead;</span><br><span class="line">        ListNode *pre=<span class="literal">NULL</span>;<span class="comment">//非重复节点</span></span><br><span class="line">        ListNode *p=pHead;<span class="comment">//当前节点</span></span><br><span class="line">        ListNode *q=<span class="literal">NULL</span>;<span class="comment">//当前节点下一节点</span></span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//当p与p-&gt;next值重复时</span></span><br><span class="line">            <span class="keyword">if</span>(p-&gt;next!=<span class="literal">NULL</span>&amp;&amp;p-&gt;val==p-&gt;next-&gt;val)</span><br><span class="line">            &#123;</span><br><span class="line">                q=p-&gt;next;</span><br><span class="line">                <span class="comment">//将p后面重复的交给q来循环找，循环完之后q指向与p重复的最后一个节点</span></span><br><span class="line">                <span class="keyword">while</span>(q!=<span class="literal">NULL</span>&amp;&amp;q-&gt;next!=<span class="literal">NULL</span>&amp;&amp;q-&gt;next-&gt;val==q-&gt;val)</span><br><span class="line">                    q=q-&gt;next;</span><br><span class="line">                <span class="comment">//开始删除，当p为头节点时，直接删除，令头节点为下一个，不是头节点时pre指向下一个待考虑的节点</span></span><br><span class="line">                <span class="keyword">if</span>(p==pHead)</span><br><span class="line">                    pHead=q-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    pre-&gt;next=q-&gt;next;</span><br><span class="line">                <span class="comment">//删除操作处理完之后，将p指向新考虑的节点</span></span><br><span class="line">                p=q-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//不重复时，pre指向当前节点，p指向下一节点</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                pre=p;</span><br><span class="line">                p=p-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="64-求1-2-3-…-n"><a href="#64-求1-2-3-…-n" class="headerlink" title="64.求1+2+3+…+n"></a>64.求1+2+3+…+n</h4><p>求1+2+3+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum=n;</span><br><span class="line">        <span class="comment">//sum=0为终止条件</span></span><br><span class="line">        sum &amp;&amp; (sum+=Sum_Solution(n<span class="number">-1</span>));</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/05/剑指offer/" data-id="cju43ozjx0002wcuaagokoogb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/剑指Offer/">剑指Offer</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-grep、sed、awk" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/02/grep、sed、awk/" class="article-date">
  <time datetime="2019-04-02T01:18:36.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/02/grep、sed、awk/">grep、sed、awk</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="grep：查找"><a href="#grep：查找" class="headerlink" title="grep：查找"></a>grep：查找</h2><p>正则表达式目标：通过查找、取出、匹配，找出符合条件的某个字符或字符串。</p>
<p><strong>特定字符</strong>（单个字符）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep '1' passwd</span><br></pre></td></tr></table></figure>
<p><strong>范围内字符</strong>：</p>
<p>单个字符[]，从中括号里面选择一个字符。如数字字符[0-9]，[259];小写字母[a-z]；大写字母[A-Z];</p>
<p>反向字符：^</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep '[259]' passwd</span><br><span class="line">grep '[a-zA-z]' passwd</span><br><span class="line">grep '[^0-9]' passwd #非数字字符</span><br></pre></td></tr></table></figure>
<p><strong>任意字符</strong>：代表任何一个字符 ‘.’。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep '.' passwd</span><br></pre></td></tr></table></figure>
<p>注意：’[.]’和’\.’都表示匹配小数点；</p>
<p><strong>边界字符</strong>：</p>
<p>头字符^：^root  以root开头的那一行，注意和[^]的区别</p>
<p>尾字符$：false$ 以false结尾的那一行</p>
<p>空白行：^$</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep '^root' passwd  #以root开头的某行</span><br><span class="line">grep 'flase$' passwd #以false结尾的那一行</span><br></pre></td></tr></table></figure>
<p><strong>元字符</strong>（代表普通字符或特殊字符）</p>
<p>\w：匹配任何字类字符，包括下划线（[a-zA-Z0-9_]）</p>
<p>\W：匹配任何非字类字符（[ ^a-zA-Z0-9_]）</p>
<p>\b：代表单词的分隔</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep '\bx\b' passwd #只列出x，不列出包含x的其他单词</span><br></pre></td></tr></table></figure>
<p><strong>字符组合：字符串</strong>：’root’ ,’100’, ‘[A-Z][a-z]’ , ‘\b[0-9][0-9]\b’ </p>
<p>重复的表示：</p>
<p>*：零次或多次匹配前面的字符或子表达式</p>
<p> +：一次或多次</p>
<p> ？：零次或一次</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grep 'se*' test.txt #匹配s,se,see,seeeee....</span><br><span class="line">grep 'se\+' test.txt #匹配se,see,seeee...，注意这里+前面要加反斜杠\</span><br><span class="line">grep 'se\?' test.txt #匹配s,se</span><br><span class="line">grep '\(se\)\+' test.txt #匹配一个或多个se</span><br></pre></td></tr></table></figure>
<p>重复特定次数：{n,m}，n代表最小重复次数，m代表最大重复字数。*就等价与{0，}；+就等价与{1，}；\?就等价与{0，1}；</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep '[0-9]\&#123;2,3\&#125;' test.txt #&#123;&#125;要有反斜杠，表示两个或三个数字</span><br></pre></td></tr></table></figure>
<p>任意字符串的表示：.* ,例如：^r.*    m.*c（注意与 m..c）</p>
<p>又如：’\bm[a-z]*c\b’ 理解</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1553739110472.png" alt="1553739110472"></p>
<p>逻辑的表示</p>
<p>|：’/bin\(false\|true\)’</p>
<ul>
<li><p>案例一：匹配4-10位qq号(查找文件中数字独立成行出现)</p>
</li>
<li><p>案例二：匹配15或18位身份证号（支持带X的）</p>
</li>
<li><p>案例三：匹配密码（由数字，26字母和下划线组成）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep '^[0-9]\&#123;4,10\&#125;$' qq.txt</span><br><span class="line">grep '^[1-9]\([0-9]\&#123;13\&#125;\|[0-9]\&#123;16\&#125;\)[0-9xX]$' qq.txt</span><br><span class="line">grep '^\w\+$' qq.txt</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>正则表达式总结：</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1553740488813.png" alt="1553740488813"></p>
<h2 id="sed：流处理编辑器"><a href="#sed：流处理编辑器" class="headerlink" title="sed：流处理编辑器"></a>sed：流处理编辑器</h2><p>常用功能：自动处理文件、分析日志文件、修改配置文件</p>
<ol>
<li><p>sed是如何进行文本处理的？</p>
</li>
<li><p>sed的基本操作命令：文本行处理（增、删、替）  字符串替换（取用）</p>
</li>
<li><p>sed的高级操作命令</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1553741262003.png" alt="1553741262003"></p>
</li>
</ol>
<p>sed一次处理一行内容，不改变文件内容，除非重定向。</p>
<p><strong>sed-格式</strong></p>
<p>命令行格式 <code>$sed [options] [-e script]或者[-f script文件] file(s)</code></p>
<p>options：</p>
<table>
<thead>
<tr>
<th>options</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>只打印模式匹配的行</td>
</tr>
<tr>
<td>-e</td>
<td>直接在命令行模式上进行sed动作编辑，为默认项</td>
</tr>
<tr>
<td>-f</td>
<td>将sed的动作写在一个文件内，用–f filename 执行filename内的sed动作</td>
</tr>
</tbody>
</table>
<p>command：行定位（正则）+ sed命令（操作）</p>
<table>
<thead>
<tr>
<th>command</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>一行</td>
</tr>
<tr>
<td>x,y</td>
<td>x到y行</td>
</tr>
<tr>
<td>/pattern/</td>
<td>包含模式的行</td>
</tr>
<tr>
<td>/pattern1/，/pattern2/</td>
<td>从模式1到模式2的行</td>
</tr>
<tr>
<td>pattern/,x</td>
<td>从模式到x行</td>
</tr>
<tr>
<td>x,/pattern/</td>
<td>从x到模式所在的第一行，若无模式，则打印到最后一行</td>
</tr>
<tr>
<td>x,y!</td>
<td>不包含x到y之间的行</td>
</tr>
<tr>
<td>first~step</td>
<td>定位间隔几行，如’1~2p’就是输出1，3，5…行</td>
</tr>
<tr>
<td>p</td>
<td>打印相关的行（注意与参数-n配合）</td>
</tr>
<tr>
<td>a</td>
<td>新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</td>
</tr>
<tr>
<td>c</td>
<td>取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</td>
</tr>
<tr>
<td>d</td>
<td>删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</td>
</tr>
<tr>
<td>i</td>
<td>插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</td>
</tr>
<tr>
<td>s</td>
<td>取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</td>
</tr>
</tbody>
</table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">nl passwd | sed -n <span class="string">'10p'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl passwd | sed -n <span class="string">'10,20p'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl passwd | sed -n <span class="string">'/ying/p'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl passwd | sed -n <span class="string">'/root/,5p'</span><span class="comment">#若5行之后还有root，则表示匹配含有root的行</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">sed -e 4a\newLine testfile <span class="comment">#testfile文件的第四行后添加一行</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nl /etc/passwd | sed <span class="string">'2,5d'</span> <span class="comment">#将 /etc/passwd 的内容列出并且列印行号，同时，请将第 2~5 行删除！</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl /etc/passwd | sed <span class="string">'3,$d'</span> <span class="comment">#要删除第 3 到最后一行</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl /etc/passwd | sed <span class="string">'2i drink tea'</span> <span class="comment">#在第二行前加上drink tea</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl /etc/passwd | sed <span class="string">'2,5c No 2-5 number'</span> <span class="comment">#将第2-5行的内容取代成为『No 2-5 number』呢？</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">nl /etc/passwd | sed  <span class="string">'/root/d'</span> <span class="comment">#删除/etc/passwd所有包含root的行，其他行输出</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">sed <span class="string">'$a /    name=ying /n    age=22'</span> testfile <span class="comment">#最后一行后面加入两行，要用/n来转义，且前面都有一个制表符=4个空格</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">sed <span class="string">'/^$/d'</span> testfile <span class="comment">#删除空行</span></span></span><br></pre></td></tr></table></figure>
<p><strong>sed替换</strong> </p>
<p><code>sed &#39;s/要被取代的字串/新的字串/g&#39;  g表示全局，若不加则只替换每行第一个</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inet addr:192.168.1.100 Bcast:192.168.1.255 Mask:255.255.255.0</span><br><span class="line"><span class="meta">$</span><span class="bash">sed <span class="string">'s/^.*addr://g'</span></span></span><br><span class="line">192.168.1.100 Bcast:192.168.1.255 Mask:255.255.255.0</span><br><span class="line"><span class="meta">$</span><span class="bash">sed <span class="string">'s/^.*addr://g'</span> | sed <span class="string">'s/Bcast.*$//g'</span></span></span><br><span class="line">192.168.1.100</span><br></pre></td></tr></table></figure>
<p><strong>sed {}</strong></p>
<p>多个sed命令，用  ;  分开</p>
<p>-n:读取下一个输入行，<code>sed -n &#39;{n;p}&#39;</code>输出偶数行</p>
<p><strong>sed&amp;</strong></p>
<p>替换固定字符串 <code>s/ying/ying@/g</code>等价于<code>s/ying/&amp;@/g</code></p>
<p><strong>sed \u\l\U\L</strong></p>
<p>\u,\l对首字母的转换，\U,\L对一定长度字母大小写的转换</p>
<p>案例一：大小写转换</p>
<p><code>sed &#39;s/^[a-z_-]\+/\u&amp;/&#39;passwd</code></p>
<p>案例二：将文件名全都大写展示</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1553841882990.png" alt="1553841882990"></p>
<p><code>ls file[0-9].txt | sed &#39;s/^\w\+/\U&amp;/&#39;</code></p>
<p>案例三：数据筛选，获取passwd中USER、UID、GID</p>
<p><code>sed &#39;s/\(^[a-z_-]\+\):x:\([0-9]\+\):\([0-9]\+\):.*$/\1  \2  \3/&#39; passwd</code></p>
<p>\1,\2,\3分别代表匹配正则中1，2，3个括号代表的字段</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1553842544797.png" alt="1553842544797"></p>
<p><strong>sed   \(     \)</strong></p>
<p>替换某种（部分）字符串（\1,\2）</p>
<p><code>s/w1\(w2\)w3/\1/ 截取w2</code>        </p>
<p>案例：截取IP</p>
<p>inet 192.168.83.131  netmask 255.255.255.0  broadcast 192.168.83.255  -&gt;  192.168.83.131</p>
<p><code>ifconfig ens33 | sed -n &#39;/inet /p&#39; | sed &#39;s/[a-z]\+ \([0-9.]\+\) .*$/\1/&#39;</code></p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1554024716047.png" alt="1554024716047"></p>
<p>r:表示取最近匹配的冒号</p>
<p><strong>sed :r,w</strong></p>
<p>-r：复制指定文件插入到匹配行，对文件不进行改写</p>
<p>-w：复制匹配行拷贝到指定文件里，文件被改写</p>
<p>源文件  互操作  目标文件</p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1554025188282.png" alt="1554025188282"></p>
<p><strong>sed:q  退出sed</strong></p>
<p>可以中途退出sed</p>
<p><code>sed &#39;/sbin/q&#39;passwd</code>第一次找到sbin所在的行就退出</p>
<p><strong>sed总结</strong></p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1554025567721.png" alt="1554025567721"></p>
<h2 id="awk：文本处理工具"><a href="#awk：文本处理工具" class="headerlink" title="awk：文本处理工具"></a>awk：文本处理工具</h2><p>awk特点：文本与数据处理工具   可编程-&gt;处理灵活，功能强大</p>
<p><strong>awk行处理方式与格式</strong></p>
<p>awk一次处理一行内容，awk对每行可以切片处理</p>
<p><code>awk &#39;{print $1}&#39;//输出首个单词</code></p>
<p><strong>awk格式</strong>：</p>
<ol>
<li><p>命令行格式 <code>awk [options] &#39;command&#39; file(s)</code></p>
<p>command组成：pattern {awk操作命令}</p>
<ul>
<li>pattern：正则表达式与逻辑判断式</li>
<li>awk操作命令：内置函数print()，getline()。或者控制命令：if(){…} else{…};while(){…}</li>
</ul>
</li>
<li><p>脚本格式<code>awk -f awk-script-file file(s)</code></p>
</li>
</ol>
<p><strong>awk内嵌参数应用</strong></p>
<ol>
<li><p>awk内置变量1</p>
<p>$0：表示整个当行</p>
<p>$1：每行第一个字段</p>
<p>$2：每行第二个字段</p>
</li>
<li><p>分隔符 -F</p>
<p>不指定默认分隔符为空格</p>
<p>eg:<code>awk -F &#39;:&#39; &#39;{print $3}&#39;/etc/passwd</code>将第三行以冒号分隔输出</p>
<p>又如：<code>awk -F &#39;:&#39; &#39;{print $1 &quot; &quot; $3}&#39; passwd</code>打印用户名和UID</p>
</li>
<li><p>awk内置变量NR、NF、FILENAME</p>
<p>NR：没行的记录号，即行号 <code>awk -F &#39;:&#39; &#39;{print NR}&#39; passwd</code></p>
<p>NF：字段数量变量，即列号</p>
<p>FILENAME:正在处理的文件名</p>
<p>案例一：显示passwd每行的行号，每行的列数，对应行的用户名(print、printf)</p>
<p>print方法 </p>
<p> <code>awk -F &#39;:&#39; &#39;{print &quot;Line: &quot;NR, &quot;Clo: &quot;NF, &quot;User: &quot;$1}&#39; passwd</code>逗号表示空格</p>
<p>printf方法</p>
<p> <code>awk -F &#39;:&#39; &#39;{printf(&quot;Line:%s Clo:%s User:%s\n&quot;,NR,NF,$1)}&#39; passwd</code></p>
<p>案例二：显示passwd中用户ID大于100的行号和用户名（if…else…）</p>
<p><code>awk :%s User:%s\n&quot;,NR,NF,$1)}&#39; passwd</code></p>
<p>案例三：在服务器log中找出‘Error’的发生日期</p>
<p><code>sed &#39;/Error/p&#39; fresh.log | awk &#39;{print $1}&#39;</code></p>
<p>或者 <code>awk &#39;/Error/{print $1}&#39; fresh.log</code></p>
</li>
</ol>
<p><strong>awk中逻辑判断式</strong></p>
<p>~，！~：匹配正在表达式</p>
<p>eg：<code>awk -F &#39;:&#39; &#39;$1~/^m.*/{print $1}&#39; passwd</code>打印匹配以m开头的第一个字段</p>
<p>==，！=，&lt;，&gt;：判断逻辑表达式</p>
<p>eg：<code>awk -F &#39;:&#39; &#39;$3&gt;100{print $1,$3}&#39; passwd</code>输出UID大于100的用户名和UID</p>
<p><strong>awk扩展格式</strong></p>
<p>command扩展：<code>BEGIN{print &quot;start&quot;} pattern{commands} END{print &quot;end&quot;}</code> BEGIN和END不参与循环过程</p>
<p>案例一：显示passwd每行行号，列数与对应行用户名</p>
<p><code>awk -F &#39;:&#39; &#39;BEGIN{print &quot;Line Clo User&quot;}{print NR,NF,$1}END{print&quot;--------&quot;FILENAME&quot;-----------&quot;}&#39; passwd</code></p>
<p><strong>awk处理过程</strong></p>
<p>案例一：统计当前文件夹下的文件/文件夹占用的大小</p>
<p><code>awk &#39;BEGIN{siz=0}{size+=5}END{print &quot;size is &quot; size/1024/1024&quot;M&quot;}&#39;</code></p>
<p>案例二：统计passwd账户总人数,统计UID大于100的用户名</p>
<p><code>awk -F &#39;:&#39; &#39;BEGIN{count=0}$1!~/^$/{count++}END{print &quot; count = &quot; count}&#39; passwd</code></p>
<p><code>awk -F &#39;:&#39; &#39;BEGIN{count=0}{if ($3&gt;100) name[count++]=$1}END{for (i=0;i&lt;count;i++) print i,name[i]}&#39; passwd</code></p>
<p>案例三：统计netstat -anp状态下为LISTEN和CONNECTED的连接数量</p>
<p><code>netstat -anp | awk &#39;$6~/CONNECTED|LISTEN/{sum[$6]++}END{for (i in sum) print i,sum[i]}&#39;</code></p>
<p>输出：</p>
<p>LISTEN 13<br>CONNECTED 406</p>
<p><strong>awk VS  sed</strong></p>
<ul>
<li>awk和sed都可以处理文本</li>
<li>awk侧重于复杂逻辑处理</li>
<li>sed侧重与正则处理</li>
</ul>
<p><strong>awk总结</strong></p>
<p><img src="C:\Users\VS-YY\AppData\Roaming\Typora\typora-user-images\1554038827247.png" alt="1554038827247"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>正则</strong></p>
<p>如何表示字符-&gt;如何组成表达式</p>
<p>正则表达式可能不能一次写好，要多次试错</p>
<p><strong>sed</strong></p>
<p>理解行处理原理</p>
<p>格式！！</p>
<p>基本的行处理命令</p>
<p>替换一定要学会</p>
<p>了解高级命令</p>
<p><strong>awk</strong></p>
<p>记住常用的内嵌参数</p>
<p>格式要记住（BEGIN+END）</p>
<p>学会用逻辑与函数做更多的应用</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/02/grep、sed、awk/" data-id="cju43ozji0001wcuafkv8mtq6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/01/hello-world/" class="article-date">
  <time datetime="2019-04-01T15:30:22.894Z" itemprop="datePublished">2019-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/01/hello-world/" data-id="cju43ozhg0000wcuayou8m6y7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/剑指Offer/">剑指Offer</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/剑指Offer/" style="font-size: 10px;">剑指Offer</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/04/05/剑指offer/">剑指offer</a>
          </li>
        
          <li>
            <a href="/2019/04/02/grep、sed、awk/">grep、sed、awk</a>
          </li>
        
          <li>
            <a href="/2019/04/01/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>